<!--

    тут происходит неизвестно что, чтобы получить данные
    
-->

<h1>Этаж 15 литера Б </h1>
<div data-toggle="tabslet" class="tabs">
    <ul class="horizontal">
        <li>
            <a href="#eji_liter1_2" class="liter_2_2">1</a>
            <!-- liter_1_1 может меняться -->
        </li>
        <li>
            <a href="#eji_liter1_1" class="liter_2_1">2</a>
            <!-- liter_1_2 может меняться -->
        </li>
    </ul>
    
    <div id="eji_liter1_2">
        <div class="plan"><img src="i/eji2_fl1_left.jpg" alt="">
            <div id="eji_1_2" class="svg_plan_holst"></div>
        </div>
    </div>
    <div id="eji_liter1_1">
        <div class="plan">
            <img src="i/eji2_fl1_right.jpg" alt="">
            <div id="eji_1_1" class="svg_plan_holst"></div>
        </div>
    </div>
</div>


<script>

$('.tabs').tabslet();

var floors = {

    ap1: { 
        color: "#DDDB00",
        link: "http://ya.ru/", 
        path: "M545.786 329.883V282.21l-8.48-5.042h-40.262V56.99l2.98-8.25 34.797 1.262 31.4 1.317 26.28 1.432 22.273.265h146.683v595.52H634.33V358.072h-96.718z"},
    
    ap2: { 
        color: "#738DC7",
        link: "http://ya.ru/", 
        path: "M480.445 362.276h65.59l88.905-3.744-.153 288.936-248.062-.153V358.532z"},

    ap3: { 
        color: "#A7A6D3",
        link: "http://ya.ru/", 
        path: "M251.577 362.2h135.148v285.04H137.363V358.455z"},

    ap4: { 
        color: "#A1BB09",
        link: "http://ya.ru/", 
        path: "M226.897 284.06v75.634h-89.95v288.784H30.37L2.716 627.162v-28.496h12.07V61.592h142.406V25.15l27.53-21.913h88.52v270.74h-46.13z"}
}


var floors2 = {

    ap1: { 
        color: "#738DC7",
        link: "http://ya.ru/", 
        path: "M646.835 3.133h249.947l27.298 22.18v27.724h136.063v223.076l-156.963.213h-4.052v24.632h-77.095v-24.312h-31.03l-3.04-4H645.13z"},
    
    ap2: { 
        color: "#DDDB00",
        link: "http://ya.ru/", 
        path: "M826.192 310.235v51.824H703.99v278.736h113.884v11.09h209.853l23.46-19.194V278.246H903.18v22.712h-76.775z"},

    ap3: { 
        color: "#CC7FB3",
        link: "http://ya.ru/", 
        path: "M703.99 647.557v-283.58H476.863v270.108l-1.92-.114v60.782H679.36l27.512-19.514v-27.51z"},

    ap4: { 
        color: "#68BFAB",
        link: "http://ya.ru/", 
        path: "M472.385 636.566V363.658H125.19l-.94 287.204h233.57l-.97 22.636 29.14 21.254h88.442V649.48l1.843-12.745z"},
  
    ap5: { 
        color: "#A1BB09",
        link: "http://ya.ru/", 
        path: "M420.774 66.686l-2.132-63.873h-248.24l-28.58 22.073v38.757l-125.29.27-15.037-6.61V604.86l.64 24.313 26.23 21.433h98.53V361.42h119.642v-87.227h173.81V66.685z"}

}

    var eji_floor = Raphael('eji_1_1', "100%", "100%"), attributes = {
        'stroke-width' : 0,
        'stroke-linejoin' : 'round'
    }, arr_floor = new Array();

    eji_floor.setViewBox(0, 0, 769, 651);

    for (var floor_num in floors) {
        var objfloor = eji_floor.path(floors[floor_num].path);
        objfloor.attr(attributes);
        objfloor.attr({
            fill : floors[floor_num].color
        });
        arr_floor[objfloor.id] = floor_num;

        objfloor.click(function() {
            window.open(floors[arr_floor[this.id]].link); // не самый лучший способ, некоторые браузеры могут открыть не во вкладке а в отдельном окне, запустив еще одно окно браузера
        });
    }

    var eji_floor2 = Raphael('eji_1_2', "100%", "100%"), attributes = {
        'stroke-width' : 0,
        'stroke-linejoin' : 'round'
    }, arr_floor2 = new Array();

    eji_floor2.setViewBox(0, 0, 1074, 698);

    for (var floor_num in floors2) {
        var objfloor = eji_floor2.path(floors2[floor_num].path);
        objfloor.attr(attributes);
        objfloor.attr({
            fill : floors2[floor_num].color
        });
        arr_floor2[objfloor.id] = floor_num;

        objfloor.click(function() {
            window.open(floors2[arr_floor2[this.id]].link);
        });
    }
</script>